{"title":"Nginx CORS Configuration","uid":"194d81d78289ca046c5db02cd53b6d7d","slug":"nginx-cors","date":"2021-11-25T07:32:15.000Z","updated":"2025-11-25T03:32:50.343Z","comments":true,"path":"api/articles/nginx-cors.json","keywords":null,"cover":"https://images.unsplash.com/photo-1615309662472-4ca77a77a189?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2340&q=80","content":"<pre class=\"line-numbers language-nginx\" data-language=\"nginx\"><code class=\"language-nginx\"><span class=\"token directive\"><span class=\"token keyword\">location</span> /</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token comment\"># root /usr/share/nginx/html;</span>\n\t<span class=\"token comment\"># index index.html index.htm;</span>\n\t<span class=\"token directive\"><span class=\"token keyword\">if</span> (<span class=\"token variable\">$request_method</span> = <span class=\"token string\">'OPTIONS'</span>)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token directive\"><span class=\"token keyword\">add_header</span> <span class=\"token string\">'Access-Control-Allow-Origin'</span> <span class=\"token string\">'*'</span> always</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token directive\"><span class=\"token keyword\">add_header</span> <span class=\"token string\">'Access-Control-Allow-Credentials'</span> <span class=\"token string\">'true'</span></span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token directive\"><span class=\"token keyword\">add_header</span> <span class=\"token string\">'Access-Control-Allow-Methods'</span> <span class=\"token string\">'GET, POST, PATCH, DELETE, PUT, OPTIONS'</span></span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token directive\"><span class=\"token keyword\">add_header</span> <span class=\"token string\">'Access-Control-Allow-Headers'</span> <span class=\"token string\">'DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Access-Control-Expose-Headers,Token,Authorization,X-WEBAUTH-USER'</span></span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token directive\"><span class=\"token keyword\">add_header</span> <span class=\"token string\">'Access-Control-Max-Age'</span> <span class=\"token number\">1728000</span></span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token directive\"><span class=\"token keyword\">add_header</span> <span class=\"token string\">'Content-Type'</span> <span class=\"token string\">'text/plain charset=UTF-8'</span></span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token directive\"><span class=\"token keyword\">add_header</span> <span class=\"token string\">'Content-Length'</span> <span class=\"token number\">0</span></span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token directive\"><span class=\"token keyword\">return</span> <span class=\"token number\">204</span></span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token directive\"><span class=\"token keyword\">add_header</span> <span class=\"token string\">'Access-Control-Allow-Headers'</span> <span class=\"token string\">'DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Access-Control-Expose-Headers,Token,Authorization,X-WEBAUTH-USER'</span></span><span class=\"token punctuation\">;</span>\n\t<span class=\"token directive\"><span class=\"token keyword\">add_header</span> <span class=\"token string\">'Access_Control-Allow-Origin'</span> <span class=\"token string\">'*'</span> always</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token directive\"><span class=\"token keyword\">proxy_pass</span> http://localhost:3000</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","text":"location / &#123; # root /usr/share/nginx/html; # index index.html index.htm; if ($request_method = 'OPTIONS') &#123; add_header 'Access-Con...","link":"","photos":[],"count_time":{"symbolsCount":999,"symbolsTime":"1 mins."},"categories":[{"name":"nginx","slug":"nginx","count":1,"path":"api/categories/nginx.json"}],"tags":[{"name":"nginx","slug":"nginx","count":1,"path":"api/tags/nginx.json"},{"name":"cors","slug":"cors","count":1,"path":"api/tags/cors.json"}],"toc":"","author":{"name":"Ethan Shen","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/18032128?s=96&v=4","link":"/","description":"太阳玄烨","socials":{"github":"https://github.com/shenzhongkang","twitter":"https://twitter.com/shenzhongkang","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/shenzhongkang","zhihu":"","csdn":"https://blog.csdn.net/shenzhongkang","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"短链接 - ShortURL","uid":"b6042d1b6a77b8a731962e66d98b63e3","slug":"short-url","date":"2022-02-25T06:34:11.000Z","updated":"2025-11-25T03:32:50.343Z","comments":true,"path":"api/articles/short-url.json","keywords":null,"cover":"https://images.unsplash.com/photo-1564760290292-23341e4df6ec?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2340&q=80","text":"What？是一种互联网上的技术与服务，此服务可以提供短 URL 来替代原来可能较长的 URL，将长的 URL 地址缩短。用户访问缩短后的 URL 时，通常将会重定向到原来的 URL。 Why？ 长链接不美观。 许多 web 开发者通过网址传输描述属性（如：表示数据的结构层次，命令...","link":"","photos":[],"count_time":{"symbolsCount":769,"symbolsTime":"1 mins."},"categories":[{"name":"tutorial","slug":"tutorial","count":1,"path":"api/categories/tutorial.json"},{"name":"article","slug":"tutorial/article","count":1,"path":"api/categories/tutorial/article.json"}],"tags":[{"name":"shorturl","slug":"shorturl","count":1,"path":"api/tags/shorturl.json"},{"name":"url","slug":"url","count":1,"path":"api/tags/url.json"}],"author":{"name":"Ethan Shen","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/18032128?s=96&v=4","link":"/","description":"太阳玄烨","socials":{"github":"https://github.com/shenzhongkang","twitter":"https://twitter.com/shenzhongkang","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/shenzhongkang","zhihu":"","csdn":"https://blog.csdn.net/shenzhongkang","juejin":"","customs":{}}}},"next_post":{"title":"How to build a code editor with codemirror v6","uid":"b7c9b3bcfbf4e44b360ea8bb1c1b66f8","slug":"codemirror6","date":"2021-10-27T03:58:53.000Z","updated":"2025-11-25T03:32:50.342Z","comments":true,"path":"api/articles/codemirror6.json","keywords":null,"cover":"https://images.unsplash.com/photo-1604884223364-9bd06ccb3c8c?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2340&q=80","text":"Codemirror （以下简称 CM） 即将到来的新版本 CM 6，已经在其官网顶部 sticky bar 上加入了宣传链接，CM 6 是一次大的重写，并且在性能和解析等其他方面，都有极大的提升（Much-improved rewrite）。CM 6 采用了 scope 形式的...","link":"","photos":[],"count_time":{"symbolsCount":"5.3k","symbolsTime":"5 mins."},"categories":[{"name":"frontend","slug":"frontend","count":13,"path":"api/categories/frontend.json"},{"name":"react","slug":"frontend/react","count":5,"path":"api/categories/frontend/react.json"}],"tags":[{"name":"frontend","slug":"frontend","count":12,"path":"api/tags/frontend.json"},{"name":"react","slug":"react","count":5,"path":"api/tags/react.json"},{"name":"codemirror","slug":"codemirror","count":3,"path":"api/tags/codemirror.json"}],"author":{"name":"Ethan Shen","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/18032128?s=96&v=4","link":"/","description":"太阳玄烨","socials":{"github":"https://github.com/shenzhongkang","twitter":"https://twitter.com/shenzhongkang","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/shenzhongkang","zhihu":"","csdn":"https://blog.csdn.net/shenzhongkang","juejin":"","customs":{}}}}}